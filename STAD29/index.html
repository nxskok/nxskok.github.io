<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Ken’s website - STAD29</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Ken’s website</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../programs-and-courses/" rel="" target="">
 <span class="menu-text">Programs and courses</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../STAC32/" rel="" target="">
 <span class="menu-text">STAC32</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../STAC33/" rel="" target="">
 <span class="menu-text">STAC33</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../STAD29/" rel="" target="">
 <span class="menu-text">STAD29</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://ritsokiguess.site/pasias2/" rel="" target="">
 <span class="menu-text">PASIAS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://q.utoronto.ca" rel="" target="">
 <span class="menu-text">Quercus</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../STAD29/index.html">STAD29</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../about.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../STAD29/index.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">STAD29</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../STAD29/notes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture notes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../STAD29/old_exams.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Old exams</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../STAD29/R-code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R code</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../STAC33/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">STAC33</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../STAC33/notes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture notes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../STAC33/old_exams.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Old exams</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../STAC33/R-code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R code</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../programs-and-courses/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Programs and Courses</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../programs-and-courses/faq.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Frequently Asked Questions about the Applied Statistics Minor program</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../STAC32/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">STAC32</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../STAC32/lecture-notes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture notes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../STAC32/old_exams.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Old exams</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../STAC32/R-code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R code</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#statistics-for-the-life-and-social-sciences" id="toc-statistics-for-the-life-and-social-sciences" class="nav-link active" data-scroll-target="#statistics-for-the-life-and-social-sciences">Statistics for the Life and Social Sciences</a>
  <ul class="collapse">
  <li><a href="#ken-butler" id="toc-ken-butler" class="nav-link" data-scroll-target="#ken-butler">Ken Butler</a></li>
  <li><a href="#news-newest-first" id="toc-news-newest-first" class="nav-link" data-scroll-target="#news-newest-first">News (newest first)</a></li>
  <li><a href="#last-year" id="toc-last-year" class="nav-link" data-scroll-target="#last-year">Last year</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">STAD29</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="statistics-for-the-life-and-social-sciences" class="level1">
<h1>Statistics for the Life and Social Sciences</h1>
<section id="ken-butler" class="level2">
<h2 class="anchored" data-anchor-id="ken-butler">Ken Butler</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="ken.jpg" class="img-fluid figure-img" width="400"></p>
<figcaption class="figure-caption">bad picture</figcaption>
</figure>
</div>
<p>Welcome to the home page for STA 1007 / STAD29. This is the place to look for things course-related (notes, code, old exams etc., linked above) except for lecture videos, assignment hand-ins and marks, which will be on <a href="http://q.utoronto.ca">Quercus</a>.</p>
</section>
<section id="news-newest-first" class="level2">
<h2 class="anchored" data-anchor-id="news-newest-first">News (newest first)</h2>
<ul>
<li>2023-12-08 14:30: here is this year’s version of the site. Class meets once a week for two hours, starting on Wed January 10, 2024.</li>
</ul>
</section>
<section id="last-year" class="level2">
<h2 class="anchored" data-anchor-id="last-year">Last year</h2>
<ul>
<li><p>2023-05-01 20:15: I have calculated the course grades you earned, and will submit them shortly. When they have been submitted and approved, they will come to you. Some things I need to say:</p>
<ul>
<li>Some of the work done on the final exam was very good, and there will be several A+ grades.</li>
<li>I was rather generous in marking the final exam.</li>
<li>I have reviewed grades close to key grade boundaries and am happy that I have things in the right places.</li>
<li>Course grades are based <em>only</em> on the work you have done and the understanding you have displayed.
<ul>
<li>Your personal circumstances do not, and cannot, figure into your grade. It does not matter how hard you worked, or that you need a certain grade for a scholarship or to graduate. If you want those things, it is up to <em>you</em> to do work of sufficient quality to earn them.</li>
<li>If you don’t like your grade, you have exactly two options: a <a href="https://www.utsc.utoronto.ca/registrar/clerical-check">clerical check</a> and, after obtaining a copy of your marked exam, a <a href="https://www.utsc.utoronto.ca/registrar/re-read-petitions">petition for re-reading of your final exam</a>. Note that I use R to calculate course grades, so it is very unlikely that they are incorrectly calculated.</li>
<li>Contacting me about your grade is <em>not</em> one of your options, and to do so is a waste of your time. Doing so may also contravene <a href="https://governingcouncil.utoronto.ca/secretariat/policies/code-behaviour-academic-matters-july-1-2019">the Code of Behaviour on Academic Matters</a>; for example, if you ask for a grade you did not earn, you are asking me to commit an offence under B.I.3(a) on your behalf.</li>
</ul></li>
<li>It is no longer possible to appeal any course work, such as assignments or the midterm.</li>
<li>Enjoy your summer!</li>
</ul></li>
<li><p>2023-05-01 17:30: the exams are marked! Next thing, maybe tonight, is course grades.</p></li>
<li><p>2023-04-30 22:55: into the last question, with 6(b) now being done, and I am 88% done. Four more parts of question 6 for tomorrow. <a href="final-20231-d29.pdf">My solutions</a> as they stand now. I guess the terrible weather helped this weekend; I didn’t exactly feel like going outside and doing anything.</p></li>
<li><p>2023-04-29 22:45: out of juice at the end of day 4. I am now 69% done, but that’s a bit of a cheat because I sped through 5(a) and the one-point 5(b) just now to get something done, having gotten bogged down on 4(d). I don’t like leaving questions half-done, but I will go back to it tomorrow and be as consistent as I can with what I was able to do today. Crowdmark tells me that I have over 3,000 question parts to read through altogether, of which I am now done just over 2,000. (Tonight, I had to resort to randomly sampling mp3 files from my music collection; what came up while I was working on question 5 was Mozart’s piano concerto no. 24, one of my favourites.) <a href="final-20231-d29.pdf">My solutions</a> as they stand now.</p></li>
<li><p>2023-04-28 23:50: day 3. I powered through 3(h) just now so that I could say I’m 50% done (which I am, exactly). I guess that means three more days of marking, plus getting course grades together. The laptop-on-couch method seems to be working well.</p></li>
<li><p>2023-04-27 23:15: day 2, and I am now up to 32% done. <a href="final-20231-d29.pdf">My solutions so far</a>. I have done all of the first two questions plus 3(a) and 3(e) from the long discriminant analysis question. It seems to be much quicker marking if I do it on my laptop sitting on the couch (!), minimizing the comments on the exams themselves and putting relevant comments in my solutions.</p></li>
<li><p>2023-04-26 23:30: day 1 of exam marking. I am done through question 2(a), which makes me 15% done. I had an exam in my other course yesterday, so couldn’t get started until today. I am updating my solutions as I go with other things I notice, and will share them with you later.</p></li>
<li><p>2023-04-23 12:00: reminder that the final exam is <em>tomorrow</em>, Monday April 24, at 9:00am in HW 216.</p></li>
<li><p>2023-04-18 14:30: I have office hours <em>tomorrow</em>, Wed 19th, 11:00am-12:00pm and 2:00-3:00pm or longer if needed. There are two parts to the office hours in case you have an exam in one of them.</p></li>
<li><p>2023-04-17 15:45: the final exam has been sent for printing. For those that care about such things: it has 6 questions on 9 pages, with a total of 34 parts worth a total of 84 points. The guideline is therefore 5 minutes per part or 2 minutes per point. The exam rules are the same as for the midterm (and, indeed, for all my exams): bring whatever you think may be helpful, but you will need to be able to quickly find what you are looking for in whatever you bring.</p></li>
<li><p>2023-04-14 11:45: assignments 7 and 8 have been marked. Appeals, usual process, Apr 17-20.</p></li>
<li><p>2023-04-09 13:00: happy Easter all. Here is <a href="worksheet_9-d29.html">a worksheet</a> on the last week’s material. I remembered I had an old map problem that hasn’t made it into PASIAS yet, so I thought I would share it with you.</p></li>
<li><p>2023-04-05 16:10:</p>
<ul>
<li>it seems that I forgot to release marks for assignment 6. This I am about to do now. Appeals by usual process between Apr 7 and Apr 13 inclusive.</li>
<li>Assignments 7 and 8 will be released when marked.</li>
<li>My solutions to <a href="a8-d29-2023.html">Assignment 8</a>.</li>
</ul></li>
<li><p>2023-03-29 20:30:</p>
<ul>
<li>My solutions to <a href="a7-d29-2023.html">Assignment 7</a>.</li>
<li>Plan for next week’s lecture: <a href="bPrincomp_slides.pdf">principal components</a> (part 1), <a href="mapping_slides.pdf">drawing maps</a> (part 2). The latter seems like a fun way to end the course.</li>
</ul></li>
<li><p>2023-03-23 11:30: <a href="a6-d29-2023.html">My solutions to Assignment 6</a>.</p></li>
<li><p>2023-03-20 20:45: the help desk folks eventually sorted me out, but not in time for tutorial. I feel bad about this, so I made some recordings of the problems from PASIAS that I would have talked about in tutorial, and as soon as Zoom has finished processing them, I’ll share them with you:</p>
<ul>
<li><a href="https://utoronto.zoom.us/rec/share/Cp7M9fUCjyb2C319xmZHhEuUArWZKc2fin43fl5v2Wb447VwtQdJLtZuaLpK84IQ.kqfYkBje3ht5uhd0">MANOVA example</a> with Australian athletes (and a very shaky transcript).</li>
<li><a href="https://utoronto.zoom.us/rec/play/ENcMwP-tCU4ahYDaO43OI5DaYdG0X3fyLssSWcB6lmwnBERL8gyPfPeH4OTYI7zl0Q2-kh059_tsiFJH.gbbVizCVh8z5T7Zt?startTime=1679358473000">repeated measures example</a> with rats and drinking water. The videos are about 15 mins each. (added 2023-03-22 13:30: if you need a passcode, this one should work: <code>1XrqhB=2*B</code> starting at the 1 and ending at the B.)</li>
</ul></li>
<li><p>2023-03-20 16:10: sorry, folks, I’m not able to connect to zoom. (I got a new phone, which is apparently not set up for 2-factor authentication to get into zoom.)</p></li>
<li><p>2023-03-20 13:15: we are running out of weeks! Here’s what I plan to talk about the rest of the way:</p>
<ul>
<li>the rest of repeated measures</li>
<li>discriminant analysis</li>
<li>cluster analysis</li>
<li>maps / principal components / frequency tables as time permits.</li>
</ul>
<p>I have, as is usually the way, more stuff that I would like to talk about than we have weeks left, so the above seems like a decent compromise. Also, I am planning 8 assignments, so the last two should be due Mar 26 and Apr 2, with nothing due in the last week.</p></li>
<li><p>2023-03-15 13:15:</p>
<ul>
<li>your midterm mark should be up on Quercus. If you wrote the midterm, please check that your mark is there, and email me if it is not. I want to make sure that I have everybody.</li>
<li>lecture today:
<ul>
<li>a second example of <a href="bManova_slides.pdf">multivariate ANOVA</a></li>
<li><a href="bProfile_slides.pdf">repeated measures</a></li>
</ul></li>
<li>PASIAS for these:
<ul>
<li><a href="https://ritsokiguess.site/pasias/multivariate-analysis-of-variance.html">chapter 32</a> for MANOVA, eg problem 32.2 (solution in 32.5)</li>
<li><a href="https://ritsokiguess.site/pasias/repeated-measures.html">chapter 33</a> for repeated measures, eg problem 33.2 (solution in 33.8)</li>
</ul></li>
</ul></li>
<li><p>2023-03-11 21:45:</p>
<ul>
<li>the midterm is graded! I am about to release the marks, and also those of assignment 5, which I apparently forgot to do. Appeals on both by the usual procedure between March 18 and 25 inclusive.</li>
<li>exam stats, out of 57: Q1 34 (59%), median 41 (71%), Q3 45 (79%). These are very much in line with typical values for this course.</li>
<li>I have been (a) as consistent and (b) as generous as I reasonably can in grading the midterm. It is therefore at least as likely that your midterm mark will go <em>down</em> rather than up if you appeal (I may easily see somewhere where I have been too generous), and if you think I have graded you harshly somewhere, you can be confident that the same work earned the same grade for everybody there.</li>
<li>There was a lot of good work, and some very nice answers that displayed clear understanding.</li>
<li><a href="midterm-20231-d29.pdf">My midterm solutions</a>.</li>
<li>You will be getting an email from Crowdmark with your graded exam. Read through this and my solutions to see what you did well and where you could have done better.</li>
</ul></li>
<li><p>2023-03-10 22:30: grading has now reached the dizzying heights of 91%. Just 5(a) and (d) to go. I didn’t have the brain cells for 5(a) today.</p></li>
<li><p>2023-03-09 23:45: after I combed through the various different ways people had of doing it, 4(c) is now done, and I am 73% done, and ready for bed. <a href="midterm-20231-d29.pdf">My solutions</a> have been updated with my additional grading comments from today.</p></li>
<li><p>2023-03-08 22:45: reached my limit for tonight. I have marked through question 3(a), which makes me now 45% done. I have a feeling 3(b) will be an adventure, but question 4 (the coding one) ought to be quick going to mark. <a href="midterm-20231-d29.pdf">My midterm solutions</a> as they stand now (with additional comments added while grading).</p></li>
<li><p>2023-03-07 23:10: progress report: around my lecture in my other course, and grading some of that exam, I have now completed 1(e) and have made a first pass at 1(f), namely the answers that looked like what I was expecting. Tomorrow I will make a call about the rest. I am currently 24% done.</p></li>
<li><p>2023-03-06 22:45: the midterm was scanned late this afternoon, so this evening I have made a start on grading it. I have graded 1(a) through 1(c), and I am now apparently 14% done. (This feels rather like being at the gym, where you set up a certain workout, and it tells you what percentage of the way through you are so far, and you keep going because mainly you want it to be over.)</p></li>
<li><p>2023-03-06 13:00: Monday update:</p>
<ul>
<li>no tutorial today (as below)</li>
<li>lecture this week: <a href="bAncova_slides.pdf">analysis of covariance</a>, <a href="bManova_slides.pdf">multivariate ANOVA</a>.</li>
<li>Assignment 6 will be due on Mar <em>19</em> (so you get an extra week off). There should be 8 assignments altogether.</li>
<li>PASIAS:
<ul>
<li>ANOVA review chapter 30. Problems 30.3 through 30.6 are about contrasts. There seem to be a lot of those.</li>
<li>Analysis of covariance chapter 31.</li>
<li>Multivariate ANOVA chapter 32.</li>
</ul></li>
</ul></li>
<li><p>2023-03-06 09:00: no tutorial today. I will need to be either marking your exam, or marking my other exam, or preparing for one or both of those things.</p></li>
<li><p>2023-03-04 11:30: I am in my office, so the exam goes ahead. If you are sick, or it is <em>truly</em> impossible for you to get to campus despite your best efforts, mark yourself absent on Acorn, and the weight of your midterm goes to the final exam (course policy).</p></li>
<li><p>2023-03-04 06:00: according to the campus status page, campus is <em>open</em> today, and so our midterm goes ahead. Now, if you’ll excuse me, I’m going back to bed!</p></li>
<li><p>2023-03-03 13:55 (edit 14:30): I tried to see whether there was a good way to reschedule our midterm, but it turns out that there isn’t. My thought was to hold it in class time on Wed, but our lecture room isn’t big enough for everybody for an exam (especially not for an open-book exam), and there are no other appropriately-sized rooms available at a time reasonably close to our class time. So the best we can do is (try) to hold the midterm tomorrow as scheduled. If it gets cancelled because campus is closed, the registrar’s office will re-schedule everything that was missed, and they will do it to minimize conflicts as they normally do. (Better to have the registrar’s office reschedule things than me, I figure.) I am expecting campus to be closed sometime tonight (added: tonight’s 7:00pm midterms are cancelled), and a decision to be made about reopening tomorrow morning.</p></li>
<li><p>2023-03-03 11:15: weather report: the snowstorm is supposed to start tonight and, according to the Weather Network, it will taper off to flurries at 8:00 am tomorrow and stop snowing by 10. This means that if campus is open, our midterm goes ahead (and if campus is closed, it will be rescheduled.) Keep an eye on the campus status page. I don’t know what the plans are (and there undoubtedly are some): my guess is either that the campus opens at noon, or that the campus stays closed all day.</p></li>
<li><p>2023-03-02 15:05: <a href="https://www.utoronto.ca/campus-status">Campus status page</a>. Our campus is on the right. Check before you come to campus, or before your exam if you are already here.</p></li>
<li><p>2023-03-02 13:30: my solutions to <a href="a5-d29-2023.html">assignment 5</a>.</p></li>
<li><p>2023-03-01 13:15: <a href="d29-review-2023.pdf">My slides</a> for course review (part 2 today).</p></li>
<li><p>2023-03-01 13:10: to summarize about the midterm:</p>
<ul>
<li>in-person hand-written exam in HLB 101 Saturday Mar 4, 1:00-3:00pm</li>
<li>open book: you can bring any notes or other course materials, <em>printed</em>. Bear in mind that what you bring needs to be <em>organized</em> so that you can quickly find what you’re looking for.</li>
<li>exam comes with a booklet of Figures to refer to (that might contain code or output or graphs).</li>
<li>questions may ask for code to perform a task or for explanations of what you see in a Figure, or occasionally a description of the output some code will produce.</li>
<li>questions will be in similar style to what you see on assignments or old midterms.</li>
<li>coverage is all the material before reading week (up to and including simple effects in ANOVA). The new material in today’s class is not on the midterm, but <em>will be</em> on Assignment 6, due March 19).</li>
<li>there is <em>no</em> assignment due March 5, to allow you to study for the midterm, and there is likely no assignment due March 12 either.</li>
<li>as I recall, the midterm now contains 5 questions with 22 parts altogether worth a total of 54 points.</li>
<li>If you are sick on midterm day (especially if it is something that other people might catch from you), do not come to the midterm. In that case, fill out an absence declaration. The weight of the midterm goes onto the final exam (no makeups: this is course policy).</li>
</ul></li>
<li><p>2023-02-24 11:30: An end-of-reading-week Friday update:</p>
<ul>
<li>Don’t forget that Assignment 5 is due on Sunday night.</li>
<li>Our midterm is on Saturday March 4, 1:00-3:00pm in HLB 101. Coverage is anything up to the end of the last lecture before reading week.</li>
<li>There is a lecture this coming Wednesday on the rest of the ANOVA material, as well as analysis of covariance.</li>
<li>Assignment 6 will not be due until March 12 or so (depending how long the midterm takes to mark, because I will be dividing my time between marking our midterm, marking the midterm for my other course, and putting Assignment 6 together for you).</li>
</ul></li>
<li><p>2023-02-23 11:45: Assignment 4 is graded. Appeals by the usual procedure between March 2 and March 8.</p></li>
<li><p>2023-02-20 21:30: the midterm is nearly ready to go to printing. As it stands now, it has 5 questions with a total of 22 parts worth a total of 54 points. I may yet decide to modify that, however.</p></li>
<li><p>2023-02-16 16:00: Apparently a Thursday update:</p>
<ul>
<li>my solutions to <a href="a4-d29-2023.html">Assignment 4</a>.</li>
<li>next week is Reading Week. No tutorial or lecture.</li>
<li>Assignment 5 is not due until the end of Reading Week (the 26th).</li>
<li>our midterm is on March 4 (see details below). The coverage is up to including the lecture we had yesterday (that is, ANOVA up to and including simple effects). There is, according to current plans, a lecture on March 1, the material in which will not be on the midterm (but will no doubt be on the final exam). The midterm rules are as for C32, bring any course materials printed, and prepare for a handwritten in-person exam. Expect less code-writing and more interpretation and explanation than in C32, since this course is more about the statistics and less about the coding.</li>
</ul></li>
<li><p>2023-02-13 20:00: Assignment 3 has been graded. Appeals by usual process between Feb 20 and Feb 26.</p></li>
<li><p>2023-02-12 12:45: there appears to be a Sunday update this week:</p>
<ul>
<li>PASIAS problems to work through from last week’s lecture: dates and times 21,2, 21.4, 21.5; survival analysis, any of the (rather long) problems in chapter 29. (In the survival analysis problems, you may see me using <code>crossing</code> to create dataframes of combinations of values for predictions; think about how you would use <code>datagrid</code> to achieve the same thing.)</li>
<li>lecture this week: a short revisit of survival analysis (I raced through this last week), followed by another look at analysis of variance. Some of the ANOVA material will be familiar from C32 and B27, and some of it will be new. (Coming up after reading week are some things related to ANOVA, such as analysis of covariance, MANOVA, repeated measures, and discriminant analysis; this leads into multivariate methods where you have several response variables to analyze at once).</li>
<li>Assignment 5 goes out this week, but you have until Feb 26 to get it done (see below for why).</li>
<li>The week of Feb 20-24 that includes Family Day is our Reading Week. There is no tutorial or lecture that week.</li>
<li>There is a lecture on March 1, right before our midterm. The material in this lecture will <em>not</em> be on the midterm, but you can be sure that it will be on the final exam, so miss it at your own risk.</li>
<li>There will be no assignment due on March 5, since you will have just written a midterm, and I will be in the middle of grading it!</li>
</ul></li>
<li><p>2023-02-08 23:30: I had a burst of activity tonight working on your Assignment 5, which it seemed needed to be due on Feb 19. This, however, is on the beginning of Reading Week (Feb 20 is Family Day), so I am making it due a week later, on Feb 26. This gives you the option of getting it done before Reading Week, or of finishing it off after Reading Week. Looking further ahead, the following Sunday is March 5, which is the weekend of our midterm, so there will be no assignment due that week either. I still have to decide whether we have an assignment due on March 12.</p></li>
<li><p>2023-02-08 13:30: <a href="a3-d29-2023.html">My solutions</a> to assignment 3, with extra discussion about <code>predictions</code>.</p></li>
<li><p>2023-02-08 12:00: Survival analysis slides <a href="bSurvival_slides.pdf">updated</a>.</p></li>
<li><p>2023-02-06 13:00: Assignment 2 has been graded, and I am about to release the grades. Appeals by the usual procedure, between Feb 13 and 19 inclusive.</p></li>
<li><p>2023-02-05 16:10: There is something funny going on with <code>predictions</code> from the <code>marginaleffects</code> package, possibly at my end (though possibly not). Some people, possibly working on <code>jupyter</code> or <code>r.datatools</code>, are getting a different layout of the result from <code>predictions</code>, without the values being predicted from. A look at the documentation suggests that what I’m getting is not what should be happening, and what you might be getting <em>is</em> what should be happening. To make things work for now, follow my suggestion in the discussion thread on Quercus, summarized here as:</p>
<ul>
<li>run <code>cbind(predictions(...))</code> instead of <code>predictions(...)</code> if you need to to get the predictions displayed next to the values they are predictions for</li>
<li>the column with the predictions in it might be called <code>estimate</code> instead; bear this in if you <code>select</code> the columns you want to display.</li>
</ul>
<p>While I figure out what is happening, you can help by contributing to the Quercus discussion thread to let me know whether your output from <code>predictions</code> looks like mine, or like the student’s output at the top of the thread.</p></li>
<li><p>2023-02-03 11:30: Friday update:</p>
<ul>
<li>We have a midterm date: Saturday March 4, 1:00-3:00pm in HLB 101.</li>
<li>Assignment 3 due on Sunday night. You may find this one rather long. (Assignment 4 will be shorter.)</li>
<li>Next week’s lecture: dates and times (part 1), survival analysis (part 2). Survival analysis is a regression-like analysis of the time until something happens; often this is of patients in hospital, and the time of admission and the time of event are recorded as dates (or dates and times), so it is as well to be able to handle dates and times.</li>
<li>Hint: if you’re going to watch the video lectures, watch them <em>with the current slides</em>. Some things have changed between when I made the videos and now, and I am expecting you to do things the new way. (The same may be true of PASIAS in places; there may be some <code>predictions</code> done the old way, for example).</li>
</ul></li>
<li><p>2023-02-01 20:30:</p>
<ul>
<li>I finally got around to publicizing the correct assignment solutions (in the last note).</li>
<li>(edited 2023-02-03 11:40) Relevant PASIAS problems for today’s lecture are from <a href="https://ritsokiguess.site/pasias/logistic-regression-with-ordinal-response.html">chapter 27</a> (ordinal response) and <a href="https://ritsokiguess.site/pasias/logistic-regression-with-nominal-response.html">chapter 28</a> (nominal response). I already suggested 27.3 and 27.4 for the former; you might like 28.3 and the rather large 28.4 (the data set is very big), or possibly 28.6, which is a data set you know already. (I have a feeling the predictions in 28.6 and maybe elsewhere are done the old way, not the <code>datagrid</code> and <code>predictions</code> way we saw in lecture today. R is a “moving target” sometimes, and things change faster than I can update everything. I can talk about predictions some more in tutorial on Monday if you wish, but for the assignment, do the best you can.) &gt;&gt;&gt;&gt;&gt;&gt;&gt; 81a38e8061be51674c841a9d8b13bf8cd5959e30</li>
</ul></li>
<li><p>2023-02-01 11:55: two things:</p>
<ul>
<li>updated <a href="bLogistic_slides.pdf">logistic regression slides</a></li>
<li><a href="a2-d29-2023.html">My solutions to Assignment 2</a>.</li>
</ul></li>
<li><p>2023-01-30 12:40: Assignment 1 has been graded, and I am about to release the marks. Appeal process is the same as for C32: you need to be able to say that there has been a <em>mistake</em> in the grading (disagreeing with the grader’s judgement is not enough). Window for appeals is February 6-12.</p></li>
<li><p>2023-01-27 15:30: Friday update:</p>
<ul>
<li>Assignment 2 is due on Sunday.</li>
<li><a href="a1-d29-2023.html">My solutions to Assignment 1</a>.</li>
<li>In lecture next week: the rest of ordinal logistic regression, and multinomial logistic regression. The distinction between these two is whether the response categories are or are not ordered. One of the problems on Assignment 3 is on ordinal logistic regression, so you might benefit from reading ahead or waiting until Wednesday to tackle it. The slides for this are all <a href="bLogistic_slides.pdf">here</a>. I recognize that Assignment 3 will be long; I will make sure that Assignment 4 is shorter.</li>
<li>Problems to work through from this week’s lecture: the ones listed in the note from two days ago.</li>
</ul></li>
<li><p>2023-01-25 20:00:</p>
<ul>
<li>We got part of the way through ordinal logistic regression in today’s abbreviated class. I glossed over some things, and will fill in the details next week.</li>
<li>I hope everyone got home safely and not too slowly.</li>
<li>I don’t have a worksheet for you this week, because there are lots of problems in <a href="https://ritsokiguess.site/pasias/">PASIAS</a> to work through. For example, <a href="https://ritsokiguess.site/pasias/logistic-regression.html#what-makes-an-animal-get-infected">26.4</a> and the rather complex <a href="https://ritsokiguess.site/pasias/logistic-regression.html#the-brain-of-a-cat">26.5</a> get you into multiple logistic regression (my solutions in 26.14 and 26.15), and <a href="https://ritsokiguess.site/pasias/logistic-regression-with-ordinal-response.html#high-school-and-beyond">27.3</a> and <a href="https://ritsokiguess.site/pasias/logistic-regression-with-ordinal-response.html#how-do-you-like-your-steak">27.4</a> get you into ordinal logistic regression. For 27.3, you might like to either do 27.2 first, or find out about <code>drop_na</code> to get rid of the missing values.</li>
<li>Next week, I plan to finish what I started today, and get into multinomial logistic regression (where the response categories are not ordered). There is an Assignment 2 out now, on last week’s material, and there will be an Assignment 3 next week for which some of the material in next Wednesday’s class may be helpful to you. As I recall, Assignment 3 is on the long side, but Assignment 4 is likely to be short.</li>
</ul></li>
<li><p>2023-01-25 12:45: if you don’t make it to class today, you can watch the old lecture videos. On the <a href="https://q.utoronto.ca/courses/292442/pages/lecture-videos-page">lecture video page</a> on Quercus, the ones you want are the second half of lecture 2a, and (in principle) all of lecture 2b. Next week, I will pick up from wherever I leave off today.</p></li>
<li><p>2023-01-25 10:30: campus is open, and I am in my office, so class will go ahead (unless you hear otherwise). According to the last weather forecast I saw, the worst of the snow will start around 5, and we’ll be done class by then. (Added 11:45: looking out of my office window and watching the snow come down, my inclination is to only go to about 3:30 today, so that if you want to get off campus before 4, you’ll be able to do so.)</p></li>
<li><p>2023-01-24 14:00: I just looked at the weather forecast for tomorrow, and it is supposed to start snowing here right when our class begins. It would probably be wise to check <a href="https://www.utoronto.ca/campus-status">the campus status page</a> before you head to campus. <em>Sometimes</em> UTSC pre-emptively closes campus if bad weather is forecast. If we do miss class, then it’s the same as an old-fashioned snow day; this week’s class would not be made up or taken online, and next week’s class would pick up from where we left off last week.</p></li>
<li><p>2023-01-20 12:45: we seem to have a Friday update this week:</p>
<ul>
<li>Monday tutorial: bring questions, confusions etc about what’s been happening so far in the course. I can talk about worksheet 2 if that would be helpful.</li>
<li>next week’s lectures: see the Jan 18 20:40 note. You might like to read through the slides (or even watch the videos) before lecture, so that you have a sense of where we are going.</li>
</ul></li>
<li><p>2023-01-18 23:50: I have spent rather too much of my evening putting together a more suitable question for your assignment 2 (next week), one that is actually based on what we did today. This means that I already have one question ready for your assignment 3 (the one that was until tonight on assignment 2), and that will save me some time next week.</p></li>
<li><p>2023-01-18 20:40:</p>
<ul>
<li>a smallish <a href="worksheet_2_d29.html">worksheet</a> for practice on what we did in class today. I realized that the second problem I put on next week’s assignment is something we didn’t really get to today, so I will be shuffling things about between now and next week to make it fairer for you. (Figuring out how far I will get in class is as much an art as a science.)</li>
<li>Next week’s class begins with multiple logistic regression, where the response side still has a success/failure, but the explanatory side contains several things, like a multiple regression, and we want to figure out which ones of them to keep.</li>
<li>After that, we have to deal with the response side having more than two categories, and this breaks up into two parts according to whether they have a natural order (like levels of severity of disease), or not (like favourite colour or brand of cellphone someone prefers). I’m expecting that we’ll get into ordered response next week.</li>
</ul></li>
<li><p>2023-01-16 11:30: on the agenda for this week:</p>
<ul>
<li>lectures: the rest of the regression stuff (part 1 on Wed), the start of logistic regression (part 2).</li>
<li>Assignment 1 (just one question: there will usually be two) is posted at midnight on the beginning of Tuesday, and will be due on Sunday night.</li>
</ul></li>
<li><p>2023-01-13 12:00: There seems to be a Friday update:</p>
<ul>
<li>earlier this week I learned about a <a href="https://r.datatools.utoronto.ca/">new version: click this link</a> of the online access to R Studio, the one that you may have been accessing through <code>jupyter.utoronto.ca</code>. The new link has the newest version of R and R Studio, so you might like to switch to it. (The old one will continue to exist at least for a while.) If you are using R Studio on your own computer, this does not affect you at all.</li>
<li>lecture code: the tab by that name on this website now links to my most up-to-date project of lecture notes, so that what you see there is consistent with what you will see in lecture, and tells you how you can get a copy for yourself should you wish to.</li>
<li>I will be setting up a zoom meeting for Monday’s “tutorial”. The actual link will be shown on Quercus, since I only want it to be accessible to students in this class (and not be public).</li>
</ul></li>
<li><p>2023-01-11 11:45 (edited 2023-01-12 18:00): <a href="worksheet_1_d29.html">a worksheet</a> to go through (for yourself) after today’s class. There is one longish question (after editing). I can’t promise that you’ll get a worksheet every week, but there didn’t seem to be a good PASIAS problem on this stuff, so you get a worksheet this week.</p></li>
<li><p>2023-01-08 20:00: almost time to begin. Our first class is on Wednesday afternoon, and our first tutorial (or practical or whatever it is called) will be on Monday Jan 16. We should probably make some arrangements for that on Wednesday.</p></li>
<li><p>2023-01-03 14:50: this year’s <a href="outline_d29_slides.pdf">course outline</a>.</p></li>
<li><p>2022-12-31 21:30: Happy new year, everyone!</p>
<ul>
<li>This course follows on from <a href="https://ritsokiguess.site/STAC32/">STAC32</a>, and assumes mastery of the statistical and coding material you learned there. The focus here is less on the coding and more on the statistical methods. These will be almost entirely new to you, but a lot of them build on the regression and ANOVA ideas you learned in previous courses.</li>
<li>This course is cross-listed as the graduate course STA 1007. If you are enrolled in that course, you should know or be willing to learn about what was covered in STAC32 (statistical methods up to multiple regression, and R coding for them).</li>
<li>The <a href="https://q.utoronto.ca/courses/292442">Quercus page</a> for this course is now up and running. If you are in STA 1007, you should get redirected to the STAD29 one.</li>
<li>I suspect I will have to edit the course outline to reflect how we are doing things this year. There will be a midterm and final exam, assignments, and (for the STA 1007 people only) a project. (Last year, we were still online at this point.)</li>
</ul></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>